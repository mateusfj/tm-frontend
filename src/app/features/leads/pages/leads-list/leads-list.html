<div class="space-y-6">
  <app-page-header
    href="/leads/form"
    buttonLabel="Novo Cliente"
    description="Sua lista de clientes cadastrados"
    title="Clientes"
  />
  <p-table [columns]="columns" [value]="leads.value()" [loading]="leads.isLoading()">
    <ng-template #header let-columns>
      <tr>
        @for (col of columns; track col) {
        <th>
          {{ col.header }}
        </th>
        }
        <th>Ações</th>
      </tr>
    </ng-template>
    <ng-template #body let-rowData let-columns="columns">
      <tr>
        @for (col of columns; track col) {
        <td>
          {{ rowData[col.field] }}
        </td>
        }

        <td class="space-x-2">
          <p-button severity="primary" [routerLink]="['/leads/form', rowData.id]">Editar</p-button>
          <p-button severity="danger" (click)="deleteLead(rowData.id)">Excluir</p-button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
